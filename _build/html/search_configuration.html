

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Search Configuration &mdash; ILAO 2.19.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Search synonym taxonomy" href="search_synonyms.html" />
    <link rel="prev" title="Site Search" href="site_search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ILAO
          

          
          </a>

          
            
            
              <div class="version">
                2.19.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get_legal_help.html">Get Legal Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="legal_information.html">Legal Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_legal_professionals.html">For Legal Professionals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="site_search.html">Site Search</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Search Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#drupal-modules">Drupal Modules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#acquia-connector-module">Acquia Connector Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-module">Apache Solr Module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-exclude">Apache Solr Exclude</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-multilingual">Apache Solr Multilingual</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-paragraphs">Apache Solr Paragraphs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#facetapi">FacetAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-views">Apache Solr Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="#search-autocomplete">Search Autocomplete</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-settings">Basic Settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-solr-configuration">Apache Solr Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#views">Views</a></li>
<li class="toctree-l3"><a class="reference internal" href="#files">Files</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="search_synonyms.html">Search synonym taxonomy</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_additional_pages.html">Adding non-node pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_facet_configuration.html">Faceted Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_more_like_this.html">More like this blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="search_best_bets.html">Best bets (best matches)</a></li>
<li class="toctree-l2"><a class="reference internal" href="site_search.html#known-issues">Known issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="site_faqs.html">Site FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="about_us.html">ILAO Organization Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="ilao_blog.html">ILAO Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="comments_ratings.html">Comments &amp; Ratings System</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_engagement.html">Share Bar &amp; Favorites</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact_us.html">Contacting ILAO</a></li>
<li class="toctree-l1"><a class="reference internal" href="managing_content.html">Content Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="managing_people.html">User Accounts &amp; Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="managing_organizations.html">Managing Organizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech_mailchimp.html">Mailchimp Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech_google_groups.html">Discussion Boards &amp; Google Groups</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_information.html">Other Site Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="seo.html">SEO Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="translation_management.html">Translation Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="sms_integrations.html">SMS Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_integrations.html">Data Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="tech_styles.html">Website Styles</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ILAO</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="site_search.html">Site Search</a> &raquo;</li>
        
      <li>Search Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/search_configuration.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="search-configuration">
<h1>Search Configuration<a class="headerlink" href="#search-configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="drupal-modules">
<h2>Drupal Modules<a class="headerlink" href="#drupal-modules" title="Permalink to this headline">¶</a></h2>
<p>ILAO currently uses an array of Apache Solr modules to construct our site search.</p>
<p>ILAO’s search is build on Acquia’s Search, which is a Solr-based configuration hosted, managed, and secured by Acquia.</p>
<p>For Drupal 7, Acquia recommends that we use Apache Solr and does not recommend the use of the Search API module, which is more powerful, when using their search platform.
When we migrate to Drupal 8, that will change.</p>
<div class="section" id="acquia-connector-module">
<h3>Acquia Connector Module<a class="headerlink" href="#acquia-connector-module" title="Permalink to this headline">¶</a></h3>
<p>The Acquia connector module is required to connect ILAO’s website to Acquia’s search as it provides the security authentication that is required.</p>
<p>We do not have access to any of the configuration files provided by Acquia’s Solr search including:</p>
<ul class="simple">
<li>Synonyms</li>
<li>Spellings</li>
<li>Stopwords</li>
<li>Protected words</li>
</ul>
</div>
<div class="section" id="apache-solr-module">
<h3>Apache Solr Module<a class="headerlink" href="#apache-solr-module" title="Permalink to this headline">¶</a></h3>
<p>The Apache Solr module provides the bulk of the configuration options.
Drupal sites can use either the Apache Solr module OR the Search API module but not both.</p>
</div>
<div class="section" id="apache-solr-exclude">
<h3>Apache Solr Exclude<a class="headerlink" href="#apache-solr-exclude" title="Permalink to this headline">¶</a></h3>
<p>The Apache Solr Exclude module allows us to exclude nodes from the search index on a per-node basis.
It adds a field to each node where we can mark “yes, exclude from search” where needed on content types where we have implemented it.
It is implemented on our website for:</p>
<ul class="simple">
<li>Legal content</li>
<li>Basic pages</li>
</ul>
</div>
<div class="section" id="apache-solr-multilingual">
<h3>Apache Solr Multilingual<a class="headerlink" href="#apache-solr-multilingual" title="Permalink to this headline">¶</a></h3>
<p>The Apache Solr multilingual module adds support for multilingual websites.</p>
</div>
<div class="section" id="apache-solr-paragraphs">
<h3>Apache Solr Paragraphs<a class="headerlink" href="#apache-solr-paragraphs" title="Permalink to this headline">¶</a></h3>
<p>The Apache Solr paragraphs module is needed to accommodate ILAO’s use of the paragraphs module throughout the site.</p>
</div>
<div class="section" id="facetapi">
<h3>FacetAPI<a class="headerlink" href="#facetapi" title="Permalink to this headline">¶</a></h3>
<p>The FacetAPI module allows us to offer faceted search.  See <a class="reference external" href="/search_facet_configuration.html">Faceted search</a> for more information.</p>
</div>
<div class="section" id="apache-solr-views">
<h3>Apache Solr Views<a class="headerlink" href="#apache-solr-views" title="Permalink to this headline">¶</a></h3>
<p>Apache Solr Views allows one to completely configure the search results pages using Views.  This is far superior to the built in search page that is provided by the ApacheSolr module.</p>
</div>
<div class="section" id="search-autocomplete">
<h3>Search Autocomplete<a class="headerlink" href="#search-autocomplete" title="Permalink to this headline">¶</a></h3>
<p>The Search Autocomplete module allows us to include an autocomplete feature in our search bar.
This module allows us to define, either a static list of results  or a view.</p>
<p>We use a search autocomplete view.</p>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basic-settings">
<h3>Basic Settings<a class="headerlink" href="#basic-settings" title="Permalink to this headline">¶</a></h3>
<p>Minimum word length:  3 characters (words with less than 3 characters are ignored)
Logs searches (should disable this)
Translitateration enabled (allows searching of accented and unaccented characters as the same character)</p>
</div>
<div class="section" id="apache-solr-configuration">
<h3>Apache Solr Configuration<a class="headerlink" href="#apache-solr-configuration" title="Permalink to this headline">¶</a></h3>
<div class="section" id="index-configuration">
<h4>Index Configuration<a class="headerlink" href="#index-configuration" title="Permalink to this headline">¶</a></h4>
<p>Content types included in search:</p>
<ul class="simple">
<li>Attorney manuals</li>
<li>Basic pages</li>
<li>Blog posts</li>
<li>Events</li>
<li>Internships/Fellowships</li>
<li>Job postings</li>
<li>Legal content</li>
<li>Site FAQ</li>
<li>Toolboxes and tools</li>
</ul>
</div>
<div class="section" id="bias-configuration">
<h4>Bias Configuration<a class="headerlink" href="#bias-configuration" title="Permalink to this headline">¶</a></h4>
<p><strong>Result Biases</strong>
More recently created content gets weighted slightly higher</p>
<p><strong>Type Biases</strong>
Legal content is weighted slightly heavier with a .2 boost</p>
<p><strong>Field Biases</strong></p>
<p>We use field biases to boost the weight of certain fields as exposed by the Apache Solr module:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Each setting is per language.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="69%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Boost</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Full rendered content</td>
<td>10</td>
</tr>
<tr class="row-odd"><td>Title</td>
<td>12</td>
</tr>
<tr class="row-even"><td>H1 tag</td>
<td>9</td>
</tr>
<tr class="row-odd"><td>H2, H3 tag</td>
<td>8</td>
</tr>
<tr class="row-even"><td>H4 - H6 tag</td>
<td>6</td>
</tr>
<tr class="row-odd"><td>EM or strong tags</td>
<td>3</td>
</tr>
<tr class="row-even"><td>Taxonomy term names</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>Extra rendered content</td>
<td>.5</td>
</tr>
<tr class="row-even"><td>Rendered comments</td>
<td>.4</td>
</tr>
<tr class="row-odd"><td>Unstemmed path alias</td>
<td>.3</td>
</tr>
<tr class="row-even"><td>Unstemmed title</td>
<td>5</td>
</tr>
<tr class="row-odd"><td>Unstemmed teaser</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>The following field biases are available but are not currently implemented:</p>
<ul class="simple">
<li>Text in A tags</li>
<li>Author names</li>
</ul>
</div>
<div class="section" id="special-content-types">
<h4>Special content types<a class="headerlink" href="#special-content-types" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="views">
<h2>Views<a class="headerlink" href="#views" title="Permalink to this headline">¶</a></h2>
<p>By default, searches only search “content,” or nodes.  Views are generally treated as “reports or lists of content” rather than searchable entities.</p>
<p>To that end, we have created a way to index the following pages for Solr to include in its index:</p>
<ul class="simple">
<li>/form-library</li>
<li>/get-legal-help/lshc-directory</li>
</ul>
</div>
<div class="section" id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this headline">¶</a></h2>
<p>Files are not indexed separately from nodes in our search configuration.  The full-text of files are included in the search index for the node to which it is attached.</p>
<p>For example, the application PDF for a job posting will never show as a file in the search results, but the full text of that application PDF would be included in the “body” of the job posting node.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="search_synonyms.html" class="btn btn-neutral float-right" title="Search synonym taxonomy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="site_search.html" class="btn btn-neutral" title="Site Search" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Illinois Legal Aid Online.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.19.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>